<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HYDRA RP | Cyber Luxury Experience</title>

    <!-- Fonts & Icons -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">

    <!-- Styles -->
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/components.css">
    <link rel="stylesheet" href="css/animations.css">
    <!-- Inline styles for scroll story to avoid breaking other pages -->
    <style>
        .story-container {
            position: relative;
            width: 100%;
            height: 400vh;
            /* 4 Sections */
        }

        .sticky-wrapper {
            position: fixed;
            /* Was sticky, but fixed is safer for 'behind' effect if we manage z-index */
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            z-index: 1;
            /* Behind text */
            pointer-events: none;
            /* Let clicks pass through to text/buttons if needed */
        }

        /* But we need interactive buttons in the last section, so maybe pointer-events: none on wrapper, 
           but auto on canvas? Actually, the canvas controls rotation, so it needs events.
           Let's use sticky position relative to body, and z-index trickery.
        */

        .sticky-wrapper {
            position: sticky;
            top: 0;
            height: 100vh;
            overflow: hidden;
            z-index: 5;
        }

        /* .hero-3d-car-container REMOVED to avoid conflict with style.css */

        .scroll-content {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            z-index: 10;
            pointer-events: none;
            /* Let events pass to car/canvas */
        }

        .story-section {
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            /* Centered by default */
            padding: 40px;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.5s ease;
        }

        /* Make sections visible when active (handled by JS later, or just always visible and they scroll up) 
           Actually, they scroll up naturally. The sticky background stays.
        */
        .story-section {
            opacity: 1;
        }

        .story-section.hidden {
            opacity: 0;
        }

        /* Section 1: Intro (Centered) */
        .sec-intro {
            align-items: center;
            text-align: center;
        }

        /* Section 2: Side View (Text Left) */
        .sec-side {
            align-items: flex-start;
            padding-left: 10%;
        }

        /* Section 3: Rear View (Text Right) */
        .sec-rear {
            align-items: flex-end;
            padding-right: 10%;
            text-align: right;
        }

        /* Section 4: Store (Centered) */
        .sec-store {
            align-items: center;
            justify-content: flex-end;
            padding-bottom: 15vh;
            background: linear-gradient(to top, #030303 50%, transparent);
            /* Fade to black at bottom */
            pointer-events: all;
            /* Enable buttons */
        }

        .story-title {
            font-family: var(--font-display);
            font-size: 5rem;
            line-height: 0.9;
            color: #fff;
            text-shadow: 0 0 30px rgba(0, 0, 0, 0.8);
            margin-bottom: 20px;
        }

        .story-desc {
            font-size: 1.2rem;
            color: #ccc;
            background: rgba(0, 0, 0, 0.6);
            backdrop-filter: blur(10px);
            padding: 20px;
            border-left: 2px solid var(--neon-blue);
            max-width: 400px;
        }

        .scroll-down-hint {
            position: absolute;
            bottom: 40px;
            left: 50%;
            transform: translateX(-50%);
            color: #fff;
            animation: bounce 2s infinite;
            font-size: 2rem;
            pointer-events: all;
            cursor: pointer;
        }

        @keyframes bounce {

            0%,
            20%,
            50%,
            80%,
            100% {
                transform: translateX(-50%) translateY(0);
            }

            40% {
                transform: translateX(-50%) translateY(-20px);
            }

            60% {
                transform: translateX(-50%) translateY(-10px);
            }
        }
    </style>
</head>

<body>

    <!-- Loading Screen -->
    <div id="loading-screen">
        <div class="loader-content">
            <h2>HYDRA</h2>
        </div>
    </div>

    <!-- Navigation Dock -->
    <header class="header">
        <nav class="nav-dock">
            <a href="#" class="logo">HYDRA</a>
            <a href="#home" class="nav-link active">Experience</a>
            <a href="loja.html" class="nav-link">Loja</a>
            <a href="vips.html" class="nav-link">VIPs</a>
            <a href="sobre.html" class="nav-link">Sobre</a>
            <div class="nav-divider"></div>
            <button class="btn-icon" id="cart-btn"><i class="fas fa-shopping-bag"></i></button>
        </nav>
    </header>

    <div class="story-container">
        <!-- Sticky 3D Background -->
        <div class="sticky-wrapper">
            <div class="hero-3d-car-container" id="hero-3d-car">
                <div class="car-loading">
                    <div class="loading-spinner"></div>
                    <span>INITIALIZING ENGINE...</span>
                </div>
            </div>
            <!-- Persistent HUD (Can fade in/out via JS) -->
            <div class="hud-item hud-left" id="hud-stats">
                <span class="hud-label">PLAYERS ONLINE</span>
                <span class="hud-value" data-count="1500">1,502</span>
            </div>
        </div>

        <!-- Scrollable Narrative Sections -->
        <div class="scroll-content">

            <!-- SECTION 1: INTRO -->
            <section class="story-section sec-intro" id="sec-1">
                <div class="hero-title-bg">
                    <span class="glitch" data-text="HYDRA">HYDRA</span>
                </div>
                <div class="scroll-down-hint"><i class="fas fa-chevron-down"></i></div>
            </section>

            <!-- SECTION 2: AERODYNAMICS (Side) -->
            <section class="story-section sec-side" id="sec-2">
                <h2 class="story-title" style="color: var(--neon-blue);">AERODYNAMICS</h2>
                <div class="story-desc">
                    Projetado para cortar o vento. Nossa infraestrutura possui latência zero e proteção DDoS de nível
                    militar. Velocidade não é opção, é padrão.
                </div>
            </section>

            <!-- SECTION 3: POWER (Rear/Engine) -->
            <section class="story-section sec-rear" id="sec-3">
                <h2 class="story-title" style="color: var(--neon-purple);">POWER V12</h2>
                <div class="story-desc" style="border-left: none; border-right: 2px solid var(--neon-purple);">
                    Economia balanceada e sistemas exclusivos. Sinta a potência de um servidor otimizado para a melhor
                    performance.
                </div>
            </section>

            <!-- SECTION 4: STORE CTA -->
            <section class="story-section sec-store" id="sec-4">
                <h2 class="story-title">START DRIVING</h2>
                <div class="hero-cta">
                    <a href="loja.html" class="btn-primary">Acessar Loja</a>
                    <a href="#" class="btn-secondary"><i class="fab fa-discord"></i><span>DISCORD</span></a>
                </div>
            </section>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/loaders/GLTFLoader.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>

    <script src="js/products.js"></script>

    <!-- Import Map for Three.js -->
    <script type="importmap">
        {
            "imports": {
                "three": "https://unpkg.com/three@0.160.0/build/three.module.js"
            }
        }
    </script>

    <script type="module" src="js/3d-effects.js"></script>

    <script>
        // Simple loading screen script
        window.addEventListener('load', () => {
            setTimeout(() => {
                const loader = document.getElementById('loading-screen');
                loader.style.opacity = '0';
                setTimeout(() => { loader.style.display = 'none'; }, 500);
            }, 1000);
        });
    </script>
</body>

</html>